<!--
.. title: CommOps Toolbox
.. slug: commops-toolbox
.. date: 2015-06-25 19:50:08 UTC
.. tags: 
.. category: 
.. link: 
.. description: 
.. type: text
.. LICENSE: CC-BY-SA-4.0
-->

<figure>
    <img src="https://openclipart.org/image/300px/svg_to_png/660/JicJac-Parts-Container.png" />
    <em><figcaption>src: https://openclipart.org/image/300px/svg_to_png/660/JicJac-Parts-Container.png</figcaption></em>
</figure>

<p>I <em>can</em> build, but I am certainly not the <em>fastest</em>. Slowly but surely, with help
from <a target="_blank" href="http://lewk.org">lmacken</a> and <a target="_blank"
href="http://threebean.org">threebean</a> and <a target="_blank" href="http://linkybook.com">qalthos</a>, I've been
loading up the <a target="_blank" href="http://decausemaker.org/posts/proposal-commops-for-fedora.html">Commops</a> toolbox.</p>

<h2>CommOps Tools in the Box</h2>

<h3><a target="_blank" href="http://github.com/decause/cardsite">cardsite</a></h3>
    <p>One of the first data visualizations I worked on after being hired, this was one of the fruits of the <a target="_blank" href="http://us.pycon.org/2015">PyCon 2015 Sprints</a>. Cardsite displays fedmsg activity as a 3 part grid, with the top pane being messages, the middle pane being users, and the bottom pane being packages. It creates the cell if the message is new and hasn't been seen before, or, if it has been seen, updates the message count, and does a fancy animation. It is a proof of concept, and not what I would call "complete," but it has a number of <strong>merits</strong>:</p>
    <ol>
        <li>Inspired by the <a target="_blank" href="http://emojitracker.com">EmojiTracker</a> project, that shows real-time usage of Emoji on Twitter</li>
        <li><a target="_blank" href="http://gulpjs.com">Gulp</a>/<a target="_blank" href="http://bower.io">Bower</a> to install JavaScript/CSS dependencies in a programmatic way</li>
        <li>Deployed to <a target="_blank" href="http://GitHub.com">GitHub</a> via <a target="_blank" href="http://github.com/decause/cardsite">gh-pages</a> branch: <a target="_blank" href="http://decause.github.io/cardsite">http://decause.github.io/cardsite</a></li>
        <li>Uses Websockets to provide real-time <a target="_blank" href="http://fedmsg.com">fedmsg</a> updates to the page</li>
        <li>Uses the <a target="_blank" href="http://semantic-ui.com">semantic-ui</a> framework for the front-end</li>
    </ol>

    <h3><a target="_blank" href="http://github.com/decause/feedcloud">feedcloud</a></h3>
<p>The idea is, take an RSS feed, or a list of RSS feeds, and generate a
word_cloud for each feed, and the aggregate content from all the feeds, like
so: <br/><br/><code>python gencloud.py config.json</code><br/><br/>with config files that look
like this:
<pre>
{
    "feeds": [
        "http://blog-decause.rhcloud.com/rss.xml",
        "http://nathanielca.se/feeds/all.atom.xml"
    ],
    "mask_filename": "fossboxlogo-mono.png",
    "output_dir": "feedcloud",
    "output_image": "feedcloud.png",
    "stop_words": ["http", "https"],
    "each_corpi": true,
    "max_words": 1000
}
</pre> 
<strong>Merits</strong>:</p>
    <ol>
        <li>Individual word_clouds for each rss feed AND the aggregate cloud of all posts combined!</li>
        <li>Uses a config file written in json for easy parsing</li>
        <li>Once it is set up, it is very easy to create multiple configurations to create many visualizations with ease.</li>
        <li>easy to use blacklist within config file for easy tweaking.</li>
    </ol>
<p><strong>Demerits</strong>:
    <ol>
        <li>word_cloud is a very powerful, but also very <strong>heavy-weight</strong> stack to stand up and run. After many attempts, I finally got my first virtualenv working, and I've been using the same one ever since in all my word_cloud related projects :/</li>
    </ol>

<h3><a target="_blank" href="https://github.com/decause/wordcloudbot">wordcloudbot</a></h3>
<p>Arguably the most complete of the tools in the box, it builds upon the work of <a target="_blank" href="http://github.com/decause/feedcloud">feedcloud</a> and <a target="_blank" href="http://github.com/amueller/word_cloud">word_cloud</a> to deliver fancy wordcloud visualizations via Twitter each time an IRC meeting ends and sends the logs message across the fedmsg bus! This tool is "deployed" on my machine locally as a systemd service, but will hopefully be deployed to Fedora Infrastructure in the near-ish future (packaging the word_cloud stack for Fedora is low on the priority totem pole for me personally, but def a goal I'd like to deliver on in the next 120 days (but probably not the next 30/60/90.) You can glance the fruits of wordcloudbot's cycles on the <a target="_blank" href="http://twitter.com/fedobot">Fedobot</a> twitter account.</p>


<h3><a target="_blank" href="http://github.com/ralphbean/fedora-stats-tools">fedora-stats-tools</a></h3> 
<p>fedora-stats-tools is a breeding ground for interesting one-off scripts and tools. It is the default place where various CommOps experiments are being pushed to, before they end up in their own repositories. Here is what we've got in there so far:</p>
<ul style="list-style-type:none">
    <h4><a target="_blank" href="https://github.com/ralph>ean/fedora-stats-tools/blob/develop/annualgrepper.py">annualgrepper</a></h4>
<p>This is a very basic script that uses the <a target="_blank" href="http://docs.python-requests.org/en/latest/">requests</a> library to get the raw json for fedmsgs over the past year, and pulls out the final field of that raw json response, which includes a total number of messages.</p>
    <h4><a target="_blank" href="https://github.com/ralphbean/fedora-stats-tools/blob/develop/meetbot-fedmsg-activity.py">meetbot-fedmsg-activity</a></h4>
    <p>A jinja2 template that creates links to meetbot activities for each subproject. This is an "artisinal" solution we're using to aggregate datagrepper information prior to the completion of hubs. The challenge is to *not* engineer something, but write as light-weight of a tool as possible to give us raw data. There is also a cronjob running locally on threebean infrastructure to send me a daily reminder to compile the stats from the information gathered by this template.</p>
    <h4><a target="_blank" href="https://github.com/ralphbean/fedora-stats-tools/blob/develop/daily-briefing.py">daily-briefing</a></h4>
    <p>A descendant of meetbot-fedmsg-activity, this jinja2 template takes lists of URLs, if they are not empty, and generates a "daily briefing" with things like action items and links generated by meetings and captured by <a target="_blank" href="https://github.com/fedora-infra/supybot-fedora">zodbot</a>. Ideally, these lists will be compiled by using BeautifulSoup in the near future, so that every day, the briefing can be shipped without human interaction (and perhaps tweeted by fedobot, but that is another project for another time.)</p>
</ul>

<h3>Long-tail</h3>
<p>This particular tool and its purposes was covered at length already in a previous post: <a target="_blank" href="http://decausemaker.org/posts/grokkingfedmsg.html">http://decausemaker.org/posts/grokkingfedmsg.html</a></p>


<h2>Why a toolbox?</h2>
<p>Well, I wanted to include a bit of this in my last post, but for now, here is the gist: The position of Fedora Community Lead has not existed before I had the privilege of filling the slot. There are *many* duties and responsibilities, defined by many stakeholders, and right now, I'm a one-man army looking to deliver on each of them. "Linus does not scale" and neither does decause. I'm working on making each of my contributions "autonomous" so that they do not block on a single person, and can invest the labor needed to deliver on these metrics <strong>once</strong>, and the deploy/redeploy multiple times as needed. It has been somewhat slow going, but it is my hope that each of these tools can help each problem space or bucket within the CommOps ecosystem of initiatives (see: <a target="_blank" href="http://decausemaker.org/posts/proposal-commops-for-fedora.html">http://decausemaker.org/posts/proposal-commops-for-fedora.html</a> for the full proposal, and/or contribute your thoughts on the wiki here, <a target="_blank" href="https://fedoraproject.org/wiki/CommOps">https://fedoraproject.org/wiki/CommOps)</a></p>

<h2>Halp!</h2>
<p>Metrics is where we've started. It has been a small core of folks working, but the <strong><em>spirit</em></strong> of the Community Operations team should start to become more clear as these types of tools get built. I'm still learning my way around this <strong>massive</strong> community of FOSS hackers that is Fedora. I still don't know where all of the corners are, or who all the people that make each of those legs gallop with the whole are, but I sure want to. Someday (150ish days from now) there will be <a target="_blank" href="http://github.com/ralphbean/fedora-hubs/prototype">FedoraHubs</a>, which is really the ultimate manifestation and incarnation of Community from the amazingly-sleek-and-powerful real-time infrastructure that is powered by the fedmsg ecosystem, but until then, things are going to have to be a bit more manual until we can get there. If you'd like to help tell the story of your particular corner of Fedora, or would like to help provide the <em>"10,000 foot view"</em> on the project's contributor base, then by all means please reach out in IRC (#fedora-apps on freenode) and let me know. I'm here to help, but I sure could use some too :)</p>

