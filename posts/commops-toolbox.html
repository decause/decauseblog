<!--
.. title: CommOps Toolbox
.. slug: commops-toolbox
.. date: 2015-06-25 19:50:08 UTC
.. tags: 
.. category: 
.. link: 
.. description: 
.. type: text
.. LICENSE: CC-BY-SA-4.0
-->

<figure>
    <img src="https://openclipart.org/image/300px/svg_to_png/660/JicJac-Parts-Container.png" />
    <em><figcaption>src: https://openclipart.org/image/300px/svg_to_png/660/JicJac-Parts-Container.png</figcaption></em>
</figure>

<p>I <em>can</em> build, but I am certainly not the <em>fastest</em>. Slowly but surely, with help
from <a target="_blank" href="http://lewk.org">lmacken</a> and <a target="_blank"
href="http://threebean.org">threebean</a> and <a target="_blank" href="http://linkybook.com">qalthos</a>, I've been
loading up the <a target="_blank" href="#">Commops</a> toolbox.</p>

<h2>CommOps Tools in the Box</h2>

<h3><a target="_blank" href="http://github.com/decause/cardsite">cardsite</a></h3>
    <p>One of the first data visualizations I worked on after being hired, this was one of the fruits of the <a target="_blank" href="#">PyCon 2015 Sprints</a>. Cardsite displays fedmsg activity as a 3 part grid, with the top pane being messages, the middle pane being users, and the bottom pane being packages. It creates the cell if the message is new and hasn't been seen before, or, if it has been seen, updates the message count, and does a fancy animation. It is a proof of concept, and not what I would call "complete," but it has a number of <strong>merits</strong>:</p>
    <ol>
        <li>Inspired by the <a target="_blank" href="http://emojitracker.com">EmojiTracker</a> project, that shows real-time usage of Emoji on Twitter</li>
        <li><a target="_blank" href="#">Gulp</a>/<a target="_blank" href="#">Bower</a> to install JavaScript/CSS dependencies in a programmatic way</li>
        <li>Deployed to <a target="_blank" href="http://GitHub.com">GitHub</a> via <a target="_blank" href="http://github.com/decause/cardsite">gh-pages</a> branch: <a target="_blank" href="http://decause.github.io/cardsite">http://decause.github.io/cardsite</a></li>
        <li>Uses Websockets to provide real-time <a target="_blank" href="http://fedmsg.com">fedmsg</a> updates to the page</li>
        <li>Uses the <a target="_blank" href="http://semantic-ui.com">semantic-ui</a> framework for the front-end</li>
    </ol>

    <h3><a target="_blank" href="http://github.com/decause/feedcloud">feedcloud</a></h3>
<p>The idea is, take an RSS feed, or a list of RSS feeds, and generate a
word_cloud for each feed, and the aggregate content from all the feeds, like
so: <br/><br/><code>python gencloud.py config.json</code><br/><br/>with config files that look
like this:
<pre>
{
    "feeds": [
        "http://blog-decause.rhcloud.com/rss.xml",
        "http://nathanielca.se/feeds/all.atom.xml"
    ],
    "mask_filename": "fossboxlogo-mono.png",
    "output_dir": "feedcloud",
    "output_image": "feedcloud.png",
    "stop_words": ["http", "https"],
    "each_corpi": true,
    "max_words": 1000
}
</pre> 
<strong>Merits</strong>:</p>
    <ol>
        <li>Individual word_clouds for each rss feed AND the aggregate cloud of all posts combined!</li>
        <li>Uses a config file written in json for easy parsing</li>
        <li>Once it is set up, it is very easy to create multiple configurations to create many visualizations with ease.</li>
        <li>easy to use blacklist within config file for easy tweaking.</li>
    </ol>
<p><strong>Demerits</strong>:
    <ol>
        <li>word_cloud is a very powerful, but also very <strong>heavy-weight</strong> stack to stand up and run. After many attempts, I finally got my first virtualenv working, and I've been using the same one ever since in all my word_cloud related projects :/</li>
    </ol>

<h3><a target="_blank" href="https://github.com/decause/wordcloudbot">wordcloudbot</a></h3>
<p>Arguably the most complete of the tools in the box, it builds upon the work of <a target="_blank" href="#">feedcloud</a> and <a target="_blank" href="#">word_cloud</a> to deliver fancy wordcloud visualizations via Twitter each time an IRC meeting ends and sends the logs message across the fedmsg bus! This tool is "deployed" on my machine locally as a systemd service, but will hopefully be deployed to Fedora Infrastructure in the near-ish future (packaging the word_cloud stack for Fedora is low on the priority totem pole for me personally, but def a goal I'd like to deliver on in the next 120 days (but probably not the next 30/60/90.) You can glance the fruits of wordcloudbot's cycles on the <a target="_blank" href="http://twitter.com/fedobot">Fedobot</a> twitter account.</p>


<h3><a target="_blank" href="http://github.com/ralphbean/fedora-stats-tools">fedora-stats-tools</a></h3> 
<p>fedora-stats-tools is a breeding ground for interesting one-off scripts and tools. It is the default place where various CommOps experiments are being pushed to, before they end up in their own repositories. Here is what we've got in there so far:</p>
<ul style="list-style-type:none">
    <h4><a target="_blank" href="https://github.com/ralph>ean/fedora-stats-tools/blob/develop/annualgrepper.py">annualgrepper</a></h4>
<p>This is a very basic script that uses the <a target="_blank" href="http://docs.python-requests.org/en/latest/">requests</a> library to get the raw json for fedmsgs over the past year, and pulls out the final field of that raw json response, which includes a total number of messages.</p>
    <h4><a target="_blank" href="https://github.com/ralphbean/fedora-stats-tools/blob/develop/meetbot-fedmsg-activity.py">meetbot-fedmsg-activity</a></h4>
    <p>A jinja2 template that creates links to meetbot activities for each subproject. This is an "artisinal" solution we're using to aggregate datagrepper information prior to the completion of hubs. The challenge is to *not* engineer something, but write as light-weight of a tool as possible to give us raw data. There is also a cronjob running locally on threebean infrastructure to send me a daily reminder to compile the stats from the information gathered by this template.</p>
    <h4><a target="_blank" href="https://github.com/ralphbean/fedora-stats-tools/blob/develop/daily-briefing.py">daily-briefing</a></h4>
    <p>A descendant of meetbot-fedmsg-activity, this jinja2 template takes lists of URLs, if they are not empty, and generates a "daily briefing" with things like action items and links generated by meetings and captured by <a target="_blank" href="#">zodbot</a>. Ideally, these lists will be compiled by using BeautifulSoup in the near future, so that every day, the briefing can be shipped without human interaction (and perhaps tweeted by fedobot, but that is another project for another time.)</p>
</ul>

<h3>Long-tail</h3>
<p>This particular tool and its purposes was covered at length already in a previous post: <a target="_blank" href="http://decausemaker.org/posts/grokkingfedmsg.html">http://decausemaker.org/posts/grokkingfedmsg.html</a></p>


